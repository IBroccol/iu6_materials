$\let\phi\varphi \let\not\overline$
#### Функциональная полнота
[ИТМО про функциональную полноту](https://neerc.ifmo.ru/wiki/index.php?title=%D0%9F%D0%BE%D0%BB%D0%BD%D1%8B%D0%B5_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B9._%D0%A2%D0%B5%D0%BE%D1%80%D0%B5%D0%BC%D0%B0_%D0%9F%D0%BE%D1%81%D1%82%D0%B0_%D0%BE_%D0%BF%D0%BE%D0%BB%D0%BD%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B9)
**Опр.** Множество $\Sigma$ булевых функций называется **замкнутой системой**, если любая суперпозиция функций из $\Sigma$ даёт функцию, принадлежащую $\Sigma$.
Всякая замкнутая система булевых функций $\Sigma$ порождает замкнутый класс, состоящий из всех формул, которые можно получить суперпозицией функций из $\Sigma$.
$[\Sigma]$ - замыкание $\Sigma$
Если рассматривать $\Sigma$ как базис, то $[\Sigma]$ - множество всех формул над $\Sigma$.
*Пример:* $F = x_1 \lor x_2 \lor \dots \lor x_n$
$\Sigma = \set{\lor}$

$K_0, K_1, K_S, K_L, K_M$ - замкнутые классы, они также называются классами Поста (Е. Пост)
Множество всех булевых функций образует замкнутый класс.
Таблица принадлежности булевых функций замкнутым классам:

|               | $K_0$ | $K_1$ | $K_S$ | $K_L$ | $K_M$ |
| ------------- | :---: | :---: | ----- | ----- | ----- |
| $0$           |  $+$  |  $-$  | $-$   | $+$   | $+$   |
| $1$           |  $-$  |  $+$  | $-$   | $+$   | $+$   |
| $\neg$        |  $-$  |  $-$  | $+$   | $+$   | $-$   |
| $\land$       |  $+$  |  $+$  | $-$   | $-$   | $+$   |
| $\lor$        |  $+$  |  $+$  | $-$   | $-$   | $+$   |
| $\oplus$      |  $+$  |  $-$  | $-$   | $+$   | $-$   |
| $\rightarrow$ |  $-$  |  $+$  | $-$   | $-$   | $-$   |
| $\equiv$      |  $-$  |  $+$  | $-$   | $+$   | $-$   |
Классы не пустые, попарно различны и каждый класс не совпадает с множеством приведённых и всех булевых функций.
**Опр.** Система булевых функций называется **полной**, если её замыкание совпадает с множеством всех булевых функций.
Это означает, что любая булева функция может быть представлена над этой системой как над базисом.
**Теорема Поста.** Для того, чтобы система булевых функций была полной, необходимо и достаточно того, чтобы она содержала хотя бы одну функцию:
1. не сохраняющую константу 0
2. не сохраняющую константу 1
3. не самодвойственную
4. не линейную
5. не монотонную
**Доказательство.**
- Необходимость ($\Rightarrow$): если система функций не удовлетворяет ни одному из условий, то в лучшем случае система будет собственным подмножеством множества булевых функций либо пустым множеством
- Достаточность ($\Leftarrow$): см. в учебнике Кузнецова

*Другими словами:*  Множество $F$ булевых функций образует полную систему $\Leftrightarrow$ когда это множество не содержится целиком ни в одном из классов Поста.
$F = \set{\neg, \land}$ - базис И-НЕ
$F = \set{\neg, \lor}$ - базис ИЛИ-НЕ
$F = \set{\neg, \land, \lor}$
$F_Ж = \set{\land, \oplus, 1, 0}$

Один из способов определения полноты системы булевых функций - сведение этой системы к другой системе, полнота которой доказана.
$F = \set{\downarrow}$
$x \downarrow x = \not x$
$x_1 \downarrow x_2 = \not{x_1 \lor x_2}$
$x_1 \lor x_2 = \not{x_1 \downarrow x_2} = (x_1 \downarrow x_2) \downarrow (x_1 \downarrow x_2)$
Перешли к базису $\set{\neg, \lor}$
$F = \set{\downarrow}$
$x \vert x = \not x$
$x_1 \vert x_2 = \not{x_1 \land x_2}$
$x_1 \land x_2 = \not{x_1 \vert x_2} = (x_1 \vert x_2) \vert (x_1 \vert x_2)$
Перешли к базису $\set{\neg, \land}$
###### Как обосновать (не)принадлежность некоторой булевой функции к тому или иному классу Поста?
Покажем немонотонность отрицания:
Пусть $f(x_1, \dots, x_n)$ - не монотонная функция
$\sigma_1 = (a_1, \dots, a_{i-1}, 0, a_{i+1}, \dots, a_n)$
$\sigma_2 = (a_1, \dots, a_{i-1}, 1, a_{i+1}, \dots, a_n)$
$\sigma_1 \le \sigma_2$
Если $f(\sigma_1) \le f(\sigma_2)$, то она монотонная
$f(\sigma_1) = 1, f(\sigma_2) = 0 \Rightarrow$ функция не монотонна
$\not x = f(a_1, \dots, a_{i-1}, x, a_{i+1}, \dots, a_n)$

*Пример:* Пусть дана система булевых функций 3 переменных $\set{f_1, f_2}$, заданных таблицей истинности:

| $x_1$ | $x_2$ | $x_3$ | $f_1$ | $f_2$ |
| ----- | ----- | ----- | ----- | ----- |
| $0$   | $0$   | $0$   | $1$   | $1$   |
| $0$   | $0$   | $1$   | $1$   | $1$   |
| $0$   | $1$   | $0$   | $1$   | $1$   |
| $0$   | $1$   | $1$   | $1$   | $0$   |
| $1$   | $0$   | $0$   | $1$   | $0$   |
| $1$   | $0$   | $1$   | $1$   | $1$   |
| $1$   | $1$   | $0$   | $0$   | $1$   |
| $1$   | $1$   | $1$   | $1$   | $0$   |
1. Принадлежность $K_0$:
	- $f_1(0,0,0) = 1 \Rightarrow f_1 \notin K_0$
	- $f_2(0,0,0) = 1 \Rightarrow f_2 \notin K_0$
2. Принадлежность $K_1$:
	- $f_1(1,1,1) = 1 \Rightarrow f_1 \in K_1$
	- $f_2(1,1,1) = 0 \Rightarrow f_2 \notin K_1$
3. Принадлежность  $K_S$:
	- $f_1(1,1,1) = 1, f_1^*(1,1,1) = 0 \Rightarrow f_1 \notin K_S$
	- $f_2(0,0,1) = 1, f_2^*(0,0,1) = 0 \Rightarrow f_2 \notin K_S$
4. Принадлежность $K_M$:
	- $f_1(0,0,0) > f_1(1,1,1) \Rightarrow f_1 \notin K_M$
	- $f_2(0,0,0) > f_2(0,1,1) \Rightarrow f_2 \notin K_M$
5. Принадлежность $K_L$:
	- В общем случае любая функция $f_n$ выражается полиномом Жегалкина $\le n$ степени:
	- $P_Ж (x_1, x_2, x_3) = a_{123} x_1 x_2 x_3 \oplus a_{12} x_1 x_2 \oplus a_{13} x_1 x_3 \oplus a_{23} x_2 x_3 \oplus a_1 x_1 \oplus a_2 x_2 \oplus a_3 x_3 \oplus a_0$
	- Если удастся свести его к первой степени, то функция линейна:
	- $a_1 x_1 \oplus a_2 x_2 \oplus a_3 x_3 \oplus a_0 \in K_L$
	- Для решения задачи воспользуемся методом неопределённых коэффициентов:
а) Рассмотрим набор $(0, 0, 0)$:
- $f_1(0, 0, 0) = a_0 = 1 \therefore a_0 = 1$
б) Рассмотрим наборы $(0,0,1), (0,1,0), (1,0,0)$:
- $f_1(0,0,1) = a_3 \oplus a_0 = 1 \therefore a_3 = 0$
- $f_1(0,1,0) = a_2 \oplus a_0 = 1 \therefore a_2 = 0$
- $f_1(1,0,0) = a_1 \oplus a_0 = 1 \therefore a_1 = 0$
в) Рассмотрим наборы: $(1,1,0), (1,0,1), (0,1,1)$:
- $f_1(1,1,0) = a_{12} \oplus a_1 \oplus a_2 \oplus a_0 = 0 \therefore a_{12} = 1$
- $f_1(1,0,1) = a_{13} \oplus a_1 \oplus a_3 \oplus a_0 = 1 \therefore a_{13} = 0$
- $f_1(0,1,1) = a_{23} \oplus a_2 \oplus a_3 \oplus a_0 = 1 \therefore a_{23} = 0$
г) Рассмотрим набор $(1,1,1)$:
- $f_1(1,1,1) = a_{123}\oplus 1 \oplus 1 = 1 \therefore a_{123} = 1$
$f_(x_1, x_2, x_3) = x_1 x_2 x_3 \oplus x_1 x_2 \oplus 1 \Rightarrow f_1 \notin K_L$
##### Примеры реализации некоторых элементарных функций с помощью не элементарных
###### Функции, сохраняющие константу 0 и 1, отрицание:
1) Пусть $f_{0} (x_{0}, \dots, x_{n}) \in K_{0}$ и $f_{1} (x_{1}, \dots, x_{1}) \in K_{1}$:
> $f_{0} (0, \dots, 0) = 0$
> $f_{0}(1, \dots, 1) = 0$
> $0 = f_{0}(x, \dots, x)$
> $f_{1} (0, \dots, 0) = 1$
> $f_{1}(1, \dots, 1) = 1$
> $1 = f_{1}(x, \dots, x)$
2) Пусть $f_{0}$ аналогично пункту 1. Рассмотрим $f_{1}$:
> $f_{1}(0, \dots, 0) = 1$
> $f_{1}(1, \dots, 1) = 0$
> $\not x = f_{1}(x,\dots, x)$
> $1 = \not {f_{0}}(x, \dots, x) = f_{1}(f_{0}(x, \dots, x), \dots, f_{0}(x, \dots, x))$
3) $\sigma_{1} \leq \sigma_{2}$ - сравнимые наборы:
> $\sigma_{1} = (a_{1}, \dots, a_{i-1}, 0, a_{i+1}, \dots, a_{n})$
> $\sigma_{2} = (a_{1}, \dots, a_{i-1}, 1, a_{i+1}, \dots, a_{n})$
> $f(\sigma_{1}) = 1$
> $f(\sigma_{2}) = 0$
> $f \notin K_{M}$
> $\not x = f(a_{1}, \dots, a_{i-1}, x, a_{i+1}, \dots, a_{n})$
4) $f(x_{1}, x_{2}) \notin K_{L}$
	a) $f(x_{1}, x_{2}) = x_{1} x_{2} \oplus 1 = \not {x_{1} x_{2}} \therefore x_{1} x_{2} = \not f (x_{1}, x_{2})$
	b) $f(x_{1}, x_{2}) = x_{1} x_{2} \oplus x_{2} \oplus 1 = (x_{1} \oplus 1) x_{2} \oplus 1 = \not {\not x_{1} x_{2}}\therefore x_{1} x_{2} = \not f (\not x_{1}, x_{2})$
	с) $f(x_{1}, x_{2}) = x_{1} x_{2} \oplus x_{1} = x_{1} (x_{2} \oplus 1) = x_{1} \not x_{2} \therefore x_{1}x_{2} = f(x_{1},\not x_{2})$
	d) $f(x_{1}, x_{2}) = x_{1}x_{2} \oplus x_{1} \oplus x_{2} \oplus 1 = x_{1} (x_{2} \oplus 1) \oplus (x_{2} \oplus 1) = (x_{1} \oplus 1) (x_{2} \oplus 1) = x_{1} x_{2} \therefore x_{1} x_{2} = f(\not x_{1}, \not x_{2})$
	e) 